<?php
global $semaphore;

include_once 'common.php';

function lib_validate_x($card) {
  return ($card >= 1) && ($card <= 4);
}

function lib_comment_x($card = 1) {
  echo "Hatch style backs, card {$card}.";
}

function lib_style_x($card = 1) {
  switch ($card) {
    case 2:  $c = COLOR1; break;
    case 3:  $c = COLOR2; break;
    case 4:  $c = COLOR3; break;
    default: $c = COLOR4; break;
  }
?>
  .cf1 { fill: <?= $c ?>; }
  .cs1 { stroke: <?= $c ?>; }
<?php
}

function lib_defs_x($card = 1) {
?>
  <g id="p" class="cf1">
    <polygon opacity="0.25" stroke="none" points="5 0 12 6 13 6 19 0 25 0 25 5 19 12 19 13 25 20 25 25 20 25 13 19 12 19 6 25 -5.27355937e-16 25 0 20 6 13 6 12 0 5 0 0" />
    <path d="M16.6969727,5.20776367 L22,0 L18.0213867,0 L15.6047852,2.41660156 C13.8900391,4.13134766 11.1099609,4.13134766 9.39477539,2.41660156 L6.97861328,0 L3,0 L8.30302734,5.20776367 C10.620459,7.52607422 14.3786133,7.52607422 16.6969727,5.20776367 Z" />
    <path d="M22.5833984,9.39477539 L25.035,6.97861328 L25.035,3 L19.7917969,8.30307617 C17.4739258,10.6214355 17.4739258,14.3786621 19.7917969,16.6969727 L25.035,22 L25.035,18.0213867 L22.5833984,15.6047852 C20.8686523,13.8900391 20.8686523,11.1100098 22.5833984,9.39477539 Z" />
    <path d="M8.30302734,19.791748 L3,25.035 L6.97861328,25.035 L9.39472656,22.5833984 C11.1099609,20.8686523 13.8899902,20.8686523 15.6047363,22.5833984 L18.0213867,25.035 L22,25.035 L16.6969727,19.791748 C14.3786133,17.473877 10.620459,17.473877 8.30302734,19.791748 Z" />
    <path d="M5.20776367,8.30258789 L0,3 L0,6.97861328 L2.41660156,9.39477539 C4.13134766,11.1100098 4.13134766,13.8900391 2.41660156,15.6047852 L0,18.0213867 L0,22 L5.20776367,16.6969727 C7.52612305,14.3786133 7.52612305,10.6213867 5.20776367,8.30258789 Z" />
    <!-- <path d="M16.6969727,5.20776367 L22,0 L18.0213867,0 L15.6047852,2.41660156 C13.8900391,4.13134766 11.1099609,4.13134766 9.39477539,2.41660156 L6.97861328,0 L3,0 L8.30302734,5.20776367 C10.620459,7.52607422 14.3786133,7.52607422 16.6969727,5.20776367 Z" />
    <path d="M22.5833984,9.39477539 L25,6.97861328 L25,3 L19.7917969,8.30307617 C17.4739258,10.6214355 17.4739258,14.3786621 19.7917969,16.6969727 L25,22 L25,18.0213867 L22.5833984,15.6047852 C20.8686523,13.8900391 20.8686523,11.1100098 22.5833984,9.39477539 Z" />
    <path d="M8.30302734,19.791748 L3,25 L6.97861328,25 L9.39472656,22.5833984 C11.1099609,20.8686523 13.8899902,20.8686523 15.6047363,22.5833984 L18.0213867,25 L22,25 L16.6969727,19.791748 C14.3786133,17.473877 10.620459,17.473877 8.30302734,19.791748 Z" />
    <path d="M5.20776367,8.30258789 L0,3 L0,6.97861328 L2.41660156,9.39477539 C4.13134766,11.1100098 4.13134766,13.8900391 2.41660156,15.6047852 L0,18.0213867 L0,22 L5.20776367,16.6969727 C7.52612305,14.3786133 7.52612305,10.6213867 5.20776367,8.30258789 Z" /> -->
  </g>
  <g id="b">
<?php
  $k = 25;
  for ($i = 0; $i < ((CARD_CUT_LINE_W/$k)/2); $i++) {
    for ($j = 0; $j < ((CARD_CUT_LINE_H/$k)/2); $j++) {
      printf('    <use href="#p" transform="translate(%s,%s)" />' . PHP_EOL,
        ($i * $k),
        ($j * $k)
      );
    }
  }
?>
  </g>
<?php
}

function quadrant_ea_x() {
  echo '<use href="#b" />';
}

function quadrant_1_x($card = 1) { quadrant_ea_x(); }
function quadrant_2_x($card = 1) { quadrant_ea_x(); }
function quadrant_3_x($card = 1) { quadrant_ea_x(); }
function quadrant_4_x($card = 1) { quadrant_ea_x(); }
