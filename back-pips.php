<?php
global $semaphore;

include_once 'common.php';

function lib_validate_pips($card) {
  return ($card == 1);
}

function lib_comment_pips($card = 1) {
  echo "Card pips style backs.";
}

function lib_style_pips($card = 1) {
?>
  .cf1 { fill: <?= ($card % 2 !== 0) ? COLOR1 : COLOR2 ?>; }
  .cf2 { fill: <?= ($card % 2 !== 0) ? COLOR2 : COLOR1 ?>; }
  <!--
  .spade { fill: <?= COLOR0 ?>; }
  .heart { fill: <?= COLOR2 ?>; }
  .club { fill: <?= COLOR1 ?>; }
  .diamond { fill: <?= COLOR3 ?>; }
  -->
  .cs1 { stroke: <?= ($card % 2 !== 0) ? COLOR1 : COLOR2 ?>; }
<?php
}

function lib_defs_pips($card = 1) {
?>
  <g id="p">
    <path class="cf1 spade" d="M17.6882812,1.19915625 C17.46525,0.949265625 17.5039922,0.972328125 17.5039922,0.972328125 C17.389875,0.831351562 17.2257656,0.75 17.0533594,0.75 C16.8810234,0.75 16.7175469,0.831351562 16.6034297,0.972328125 C16.6034297,0.972328125 16.6430156,0.949265625 16.4191406,1.19915625 C10.9083281,7.41653906 0.75,10.9382109 0.75,19.8877969 C0.75,20.3474297 0.770179687,20.8264688 0.811945313,21.3248437 C1.25582812,26.5790156 5.06479687,29.5597031 9.18032812,29.5597031 C11.5163906,29.5597031 13.7360859,28.0025625 15.2201016,25.7448984 C14.5239375,30.1096172 13.6308984,34.953375 13.3801641,35.5547578 C12.9525937,36.5791406 13.4652422,36.7500703 13.7211797,36.7500703 L20.3861719,36.7500703 C20.6421094,36.7500703 21.1539141,36.5791406 20.7271172,35.5547578 C20.4771562,34.953375 19.5825703,30.1096172 18.8880234,25.7448984 C20.3712656,28.0025625 22.5908906,29.5597031 24.9270234,29.5597031 C29.0433281,29.5597031 32.8514531,26.5790156 33.2961797,21.3248437 C33.337875,20.8264687 33.3572812,20.3474297 33.3572812,19.8877969 C33.3572812,10.9382109 23.1990937,7.41653906 17.6882812,1.19915625 Z" />
    <path class="cf2 heart" d="M68.3196943,2.71173769 C63.0774053,-1.45645762 55.7504912,1.46228456 54.200874,7.29006581 C52.6511865,1.46228456 45.3249053,-1.45645762 40.0826865,2.71173769 C35.0591396,6.70710488 35.4648428,14.6616986 40.3829209,21.0400971 C44.9270068,26.9339721 52.0268115,32.6129018 53.9401553,36.5552533 C54.0158818,36.7124721 54.1866709,36.7500189 54.2009443,36.7500189 C54.2157803,36.7500189 54.3866396,36.7124721 54.462999,36.5552533 C56.3749365,32.6129018 63.4748115,26.9339721 68.0195303,21.0400971 C72.9381709,14.6617689 73.3431709,6.70710488 68.3196943,2.71173769 Z" />
    <path class="cf1 club" d="M64.1316072,51.9105645 C61.8984822,51.9526114 59.8992869,52.910338 58.4800994,54.4169942 C57.7721931,54.9799161 57.1654666,55.3522911 56.860451,54.9115723 C56.2526697,54.2279942 57.424076,53.712252 59.1314041,52.2179005 C60.8387322,50.7235489 61.9007322,48.5154551 61.8550291,46.0696348 C61.7724119,41.6689864 58.1386619,38.1684083 53.7380838,38.2514473 C49.337576,38.3338536 45.83749,41.9678848 45.9199666,46.3683926 C45.9712947,49.1086114 47.4008181,51.5000801 49.5349431,52.894588 C50.668451,53.6969942 51.9334431,54.4236739 51.4484275,55.0135255 C51.1596541,55.4654239 50.5394978,55.1150567 49.8111306,54.5795567 C48.3370291,53.1266895 46.3023963,52.245252 44.0696228,52.2867364 C39.6690447,52.3691426 36.1687478,56.0038067 36.2514353,60.4043145 C36.3339119,64.8042598 39.9682244,68.3049083 44.3681697,68.2218692 C48.42274,68.146213 51.7099197,65.0549239 52.1383338,61.1281817 C52.2033728,60.7822442 52.3034978,60.0280723 52.5557791,60.0432598 C52.8538338,60.0600645 52.9440447,59.9894005 52.9687947,61.3166192 C53.1824041,67.8125098 49.588875,74.0879297 49.5,74.25 C49.4915625,74.26575 59.4706094,74.2388203 59.5,74.25 C59.4938125,74.2416328 55.6072713,67.7671583 55.5772478,61.2678223 C55.5522869,59.9411661 55.6450994,60.0078926 55.9420291,59.9792755 C56.1938181,59.9551583 56.3216463,60.7048301 56.3968103,61.0462676 C56.975201,64.9562051 60.3762166,67.9224083 64.430576,67.8461192 C68.8307322,67.7631505 72.3313806,64.1291192 72.2486931,59.7291739 C72.165865,55.3286661 68.532115,51.8281583 64.1316072,51.9105645 Z" />
    <polygon class="cf2 diamond" points="16.9294141 38.25 4 56.25 16.9294141 74.25 29.8588281 56.25" />
  </g>
  <g id="b">
<?php
  $k = 75;
  for ($i = 0; $i < ((CARD_CUT_LINE_W/$k)/2); $i++) {
    for ($j = 0; $j < ((CARD_CUT_LINE_H/$k)/2); $j++) {
      printf('    <use href="#p" transform="translate(%s,%s)" />' . PHP_EOL,
        ($i * $k),
        ($j * $k)
      );
    }
  }
?>
  </g>
<?php
}

function quadrant_ea_pips() {
  echo '<use href="#b" />';
}

function quadrant_1_pips($card = 1) { quadrant_ea_pips(); }
function quadrant_2_pips($card = 1) { quadrant_ea_pips(); }
function quadrant_3_pips($card = 1) { quadrant_ea_pips(); }
function quadrant_4_pips($card = 1) { quadrant_ea_pips(); }
